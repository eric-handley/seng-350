## Reason for selection of group 8's project

Group 8's project had several areas of improvement that we were interested in working on during the refactoring exercise. In particular, their repository was the largest among all the groups in SENG 350, there was dead code, usability issues, and configuration flaws. In our initial investigation of their repository, we opted to get code quality analysis of the project using Cursor/Claude rather than SonarQube/Codescene to avoid the subscription plans of ladder options. This helped us identify some key findings that we describe in the following paragraphs.

We noticed that node modules were a part of the commit history drastically increasing the total size in bytes. Looking into the code, the organization was logical, but some issues like duplicate files for admin/registrar/staff home pages were observed. When trying out the features of the app, it was noted that admin and registrar were not able to create bookings, equipment filters did not filter the rooms correctly, and the booking confirmation message was white text with a white background.

The documentation for the project was mostly well defined with clear ADRs in docs/decisions/ADRs.md, the initial PRD.md file in docs/Design1, diagrams in docs/images, and a comprehensive README file explaining how to build and run the project. In addition, the code was reasonably well-commented. One issue that we noticed here, however, was that there was no documentation for API usage meaning that calls for getting data from the database have to be inferred from the existing code. After talking with Group 8, it was made clear that while there were "last-minute" styled parts of the code, they understood the core functionalities and how their app worked.

With overall good structure and documentation along with areas with room for improvement, we found Group 8's repository to be the most appealing to take on for our refactoring task.

One code smell that we targeted was Primitive Obsession due to a high reliance of primitives throughout their repository. We changed their date-time primitives via the implementation of dateTime.js and dateUtils.js; this modification was a mix of the "Replace Magic Number" and "Extract Variable" refactoring methods. This improved the clarity of the code, particularly in bookingsearch.jsx. By running `npm run test:smells`, one can see the date-usage.jsx tests that we added which show preserved behaviour following the removal of these primitives.

The other code smell we addressed was the Long Method smell observed in the "post" function of src/backend/routes/bookings.js. This method was almost 200 lines long and handled multiple different functionalities such as CRUD, filtering logic and business logic. This made the method difficult to understand, use and test. To address this Long Method smell, we utilized the "Extract Method" refactoring method by creating several new helper functions and calling them from the original method. This improved the readability and modifiability of the function. After fixing the smell, we also created tests in bookings.code-smell.test.js to ensure that the changes did not impact any functionality. 

Lastly, we fixed a Code Duplication smell by removing unused file duplicates for AdminHomePage.jsx, RegistrarHomePage.jsx and StaffHomePage.jsx.
